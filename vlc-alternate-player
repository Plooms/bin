#!/bin/bash
# Wrapper for vlc that checks for xspf files
SCRIPT_NAME="vlc-alternate-player"
PID=$$

#########################################################


# To get the filename without extensions
FILENAME="$(echo "$1" | rev | cut -d"." -f2- | rev)"


if [ -f "$FILENAME"*.xspf ]

then 

	[ -f "$(ls "$FILENAME"*.srt|head -n1)" -o -f "$(ls "$FILENAME"*.sub|head -n1)" ] || notify-send "Media" "Subtitle Not Found"

	vlc "$FILENAME"*.xspf --play-and-exit

else 

	[ -f "$(ls "$FILENAME"*.srt|head -n1)" -o -f "$(ls "$FILENAME"*.sub|head -n1)" ] || notify-send "Media" "Subtitle Not Found"

	vlc "$1" --play-and-exit

fi
