#!/bin/bash
# Wrapper for vlc that checks for xspf files
SCRIPT_NAME="vlc-alternate-player"
PID=$$

#########################################################


# To get the filename without extensions
FILENAME="$(echo "$1" | rev | cut -d"." -f2- | rev)"


if [ -f "$FILENAME"*.xspf ]

then 

[ -f "$FILENAME"*.srt ] && notify-send "Media" "Subtitle Found" || notify-send "Media" "Subtitle Not Found"
echo SRT
[ -f "$FILENAME"*.sub ] && notify-send "Media" "Subtitle Found" || notify-send "Media" "Subtitle Not Found"
echo SUB
vlc "$FILENAME"*.xspf --play-and-exit

else 

[ -f "$FILENAME"*.srt ] && notify-send "Media" "Subtitle Found" || notify-send "Media" "Subtitle Not Found"
[ -f "$FILENAME"*.sub ] && notify-send "Media" "Subtitle Found" || notify-send "Media" "Subtitle Not Found"

vlc "$1" --play-and-exit

fi
