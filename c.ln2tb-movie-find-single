#!/bin/bash
# (Add - Move - Delete - Rename - Change - Find) and do lots of shit to the Media Collection


# Source the VAR MOAS
source /usr/local/bin/VAR-SCRIPT


if [ -n "$TERM_LAUNCH" ]
then name="$(xclip -o)"
else
name=$(dialog --extra-button --extra-label "Back" --stdout  --clear --inputbox \
"Please Enter the name of the Show" 10 50 )
fi

case $? in
0)

clear

echo -e "${RED}\n-----------################-------------\n${COLOR_OFF}"

find "$MOVIE_SYM"/ -iname "*$name*" -size +25M |sort -bf > /tmp/temp

while read FILE ;do movie_array+=("$FILE");done </tmp/temp

for i in "${movie_array[@]}"
do
		
echo -e "${YELLOW} The Information for the Video File:${WHITE}
"$i""

RES1=$(ffprobe -v quiet -show_streams "$i" | egrep -e 'width' |sed 's/width=//g' )
RES2=$(ffprobe -v quiet -show_streams "$i" | egrep -e 'height' |sed 's/height=//g' )

GREEN
echo -e "Size =  ${WHITE}$(du -h "$i" | awk '{print $1}')${COLOR_OFF}"

GREEN
echo -e "Resolution = ${WHITE}"$RES1 x $RES2"p${COLOR_OFF}"

echo -e "${RED}\n-----------################-------------\n${COLOR_OFF}"

done

#---#

echo -e "${YELLOW}\n-----------################-------------${COLOR_OFF}"
WHITE
find "$MOVIE_SYM"/ -type d -iname "*$name*" | sort -bf

echo -e "${YELLOW}\n-----------################-------------\n\n${COLOR_OFF}"

if [ -n "$TERM_LAUNCH" ]
then sleep 1000
fi
;;
1)
_CANCEL_MSG ;; 

3)
ln2tb ;;

esac
