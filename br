#!/bin/bash
# Adjust brightness of the screen
SCRIPT_NAME="br"
PID=$$

# Source the VAR MOAS
source /usr/local/bin/VAR-SCRIPT



TEMP=/tmp/xbrightness.tmp

[ ! -f "$TEMP" ] && echo off > "$TEMP" && echo "creating temp file $TEMP"

####  idea   #####  if cat temp file / 2 = true then do this ;or else do this


COUNTER=$(cat "$TEMP")



if [ "$COUNTER" = off ]
then
	echo "Brightness = Low-M-1" && echo low-m-1 >| "$TEMP" && xrandr --output DVI-I-1 --brightness 0.3 > /dev/null
	echo -e "\n\n\n OFF [LOW-M-1] LOW-M-2 HIGH LOW "
	notify-send Brightness LOW-M-1

elif [ "$COUNTER" = low-m-1 ]
then
	echo "Brightness = Low-M-2" && echo low-m-2 >| "$TEMP" && \
xrandr --output VGA-0 --brightness 0.3 ; xrandr --output HDMI-0 --brightness 0.3 ; xrandr --output DVI-I-1 --brightness 1.0 > /dev/null
	echo -e "\n\n\n OFF LOW-M-1 [LOW-M-2] HIGH LOW "
	notify-send Brightness LOW-M-2

elif [ "$COUNTER" = low-m-2 ]
then
	echo "Brightness = HIGH" && echo high >| "$TEMP" && xbrightness 40000 24000 20000 > /dev/null
	echo -e "\n\n\n OFF LOW-M-1 LOW-M-2 [HIGH] LOW "
	notify-send Brightness HIGH

elif [ "$COUNTER" = low ]
then
        xbrightness 63000 && echo "Brightness = OFF" && echo off >| "$TEMP"
	echo -e "\n\n\n [OFF] LOW-M-1 LOW-M-2 HIGH LOW "
	notify-send Brightness OFF

elif [ "$COUNTER" = high ]
then
        echo "Brightness = LOW" && echo low >| "$TEMP" && \
xrandr --output DVI-I-1 --brightness 0.1 ; xrandr --output VGA-0 --brightness 0.2 ; xrandr --output HDMI-0 --brightness 0.3 > /dev/null
	echo -e "\n\n\n OFF LOW-M-1 LOW-M-2 HIGH [LOW] "
	notify-send Brightness LOW
fi


#cat $TEMP

#COUNTER=$(($(cat $TEMP) + 1))

 #   echo "increasing by 1"


#COUNTER=$($(cat $TEMP)+1)

# Store the new value
#echo $COUNTER >| $TEMP
#echo $COUNTER

